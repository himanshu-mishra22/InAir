<app-nav></app-nav>

<div class="flex flex-col border rounded-lg mx-auto relative">
    <!-- Messages Display -->
    <div class="flex-grow overflow-auto p-4 space-y-4 mb-[64px]">
      <div
        *ngFor="let msg of messages"
        [ngClass]="{ 'justify-end': msg.sender == username.userName , 'justify-start': !msg.sender == username.userName }"
        class="flex items-end space-x-2"
      >
        <div
          [ngClass]="msg.sender == username.userName ? 'bg-blue-500 text-white' : 'bg-gray-200 text-black'"
          class="rounded px-4 py-2"
        >
          <p class="font-bold">{{ msg.sender }}</p>
          <p>{{ msg.content }}</p>
          <p class="text-xs mt-1">{{formatTimestamp(msg.time ) }}</p>
        </div>
      </div>
    </div>
    
  
    <!-- Input Section -->
    <div
      class="p-4 border-t-2 border-gray-200 flex items-center fixed bottom-0 w-full bg-gray-300"
    >
    
      <input
        [(ngModel)]="newMessage"
        class="flex-grow p-2 mr-4 border rounded bg-slate-400 text-black"
        placeholder="Type your message hereâ€¦"
        (keydown.enter)="sendMessage()"
      />
      <button
        class="py-2 px-6 bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-150"
        [disabled]="!newMessage.trim()"
        (click)="sendMessage()"
        title="Send Message"
      >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
      </svg>      
      </button>
    </div>
  </div>
  